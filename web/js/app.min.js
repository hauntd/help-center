var app={_baseUrl:null,init:function(){this._baseUrl=$("meta[name=baseUrl]").attr("content")},getUrl:function(url){return this._baseUrl+url},t:function(category,message){return message}},modal={isLoading:!1,showWithUrl:function(url){var $modal=$("#modal"),that=this,loaderHtml='<div class="modal-loader"><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>';$modal.find("#modal-content").html(loaderHtml),$modal.data("bs.modal").isShown||$modal.modal("show"),this.isLoading||(this.isLoading=!0,$.ajax({url:url,success:function(data){$modal.find("#modal-content").html(data),that.isLoading=!1}}))},close:function(){this.isLoading=!1,$("#modal").modal("hide")}};$(document).ready(function(){var $body=$("body");app.init(),$body.tooltip({selector:"[rel=tooltip]"}),Messenger.options={extraClasses:"messenger-fixed messenger-on-bottom messenger-on-left",theme:"flat"},$(document).ajaxError(function(event,jqXHR,ajaxSettings,thrownError){var data=eval("("+jqXHR.responseText+")");Messenger().post({message:data.message,type:"error",hideAfter:5,hideOnNavigate:!0})}),$body.on("click",".btn-modal",function(event){return modal.showWithUrl($(this).attr("href")),event.preventDefault(),!1}),$body.on("click",".modal-form .btn-modal-close",function(event){return modal.close(),event.preventDefault(),!1}),$body.on("beforeSubmit",".modal-form form",function(event){event.preventDefault();var $form=$(this),$buttons=$form.find(".btn");return $.ajax({url:$form.attr("action"),data:$form.serialize(),type:"post",beforeSend:function(){$buttons.attr("disabled","disabled")},success:function(response){$buttons.attr("disabled",!1),response.success?($(".modal.in").modal("hide"),Messenger().post({message:response.message,type:"success"}),$form.trigger("afterSubmit",event)):response.messages&&$form.yiiActiveForm("updateMessages",response.messages,!0)},error:function(jqXHR,textStatus,errorThrown){$buttons.attr("disabled",!1),Messenger().post({message:jqXHR.data,type:"error"})}}),!1})});